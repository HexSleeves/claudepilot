#!/bin/bash

set -e

echo "Running pre-commit checks..."

echo "Formatting Go code..."
go fmt ./...

echo "Running linter..."
if command -v golangci-lint &> /dev/null; then
    golangci-lint run
else
    echo "Warning: golangci-lint not found, skipping lint check"
fi

echo "Running tests..."
go test ./...

echo "All pre-commit checks passed!"